!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=27)}([function(e,t,n){var r=n(9),o=n(2),a=36e5,s=6e4,c=2,d=/[T ]/,i=/:/,u=/^(\d{2})$/,l=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],p=/^(\d{4})/,f=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],m=/^-(\d{2})$/,h=/^-?(\d{3})$/,g=/^-?(\d{2})-?(\d{2})$/,v=/^-?W(\d{2})$/,y=/^-?W(\d{2})-?(\d{1})$/,D=/^(\d{2}([.,]\d*)?)$/,x=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,E=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,L=/([Z+-].*)$/,C=/^(Z)$/,S=/^([+-])(\d{2})$/,M=/^([+-])(\d{2}):?(\d{2})$/;function T(e,t,n){t=t||0,n=n||0;var r=new Date(0);r.setUTCFullYear(e,0,4);var o=7*t+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+o),r}e.exports=function(e,t){if(o(e))return new Date(e.getTime());if("string"!=typeof e)return new Date(e);var n=(t||{}).additionalDigits;n=null==n?c:Number(n);var b=function(e){var t,n={},r=e.split(d);if(i.test(r[0])?(n.date=null,t=r[0]):(n.date=r[0],t=r[1]),t){var o=L.exec(t);o?(n.time=t.replace(o[1],""),n.timezone=o[1]):n.time=t}return n}(e),w=function(e,t){var n,r=l[t],o=f[t];if(n=p.exec(e)||o.exec(e)){var a=n[1];return{year:parseInt(a,10),restDateString:e.slice(a.length)}}if(n=u.exec(e)||r.exec(e)){var s=n[1];return{year:100*parseInt(s,10),restDateString:e.slice(s.length)}}return{year:null}}(b.date,n),j=w.year,Y=function(e,t){if(null===t)return null;var n,r,o,a;if(0===e.length)return(r=new Date(0)).setUTCFullYear(t),r;if(n=m.exec(e))return r=new Date(0),o=parseInt(n[1],10)-1,r.setUTCFullYear(t,o),r;if(n=h.exec(e)){r=new Date(0);var s=parseInt(n[1],10);return r.setUTCFullYear(t,0,s),r}if(n=g.exec(e)){r=new Date(0),o=parseInt(n[1],10)-1;var c=parseInt(n[2],10);return r.setUTCFullYear(t,o,c),r}if(n=v.exec(e))return a=parseInt(n[1],10)-1,T(t,a);if(n=y.exec(e)){a=parseInt(n[1],10)-1;var d=parseInt(n[2],10)-1;return T(t,a,d)}return null}(w.restDateString,j);if(Y){var N,q=Y.getTime(),F=0;if(b.time&&(F=function(e){var t,n,r;if(t=D.exec(e))return(n=parseFloat(t[1].replace(",",".")))%24*a;if(t=x.exec(e))return n=parseInt(t[1],10),r=parseFloat(t[2].replace(",",".")),n%24*a+r*s;if(t=E.exec(e)){n=parseInt(t[1],10),r=parseInt(t[2],10);var o=parseFloat(t[3].replace(",","."));return n%24*a+r*s+1e3*o}return null}(b.time)),b.timezone)O=b.timezone,N=((X=C.exec(O))?0:(X=S.exec(O))?($=60*parseInt(X[2],10),"+"===X[1]?-$:$):(X=M.exec(O))?($=60*parseInt(X[2],10)+parseInt(X[3],10),"+"===X[1]?-$:$):0)*s;else{var k=q+F,H=new Date(k);N=r(H);var P=new Date(k);P.setDate(H.getDate()+1);var I=r(P)-r(H);I>0&&(N+=I)}return new Date(q+F+N)}var O,X,$;return new Date(e)}},function(e,t,n){var r=n(23);e.exports=function(e){return r(e,{weekStartsOn:1})}},function(e,t){e.exports=function(e){return e instanceof Date}},function(e,t,n){var r=n(15),o=n(16);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(0),o=n(1);e.exports=function(e){var t=r(e),n=t.getFullYear(),a=new Date(0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);var s=o(a),c=new Date(0);c.setFullYear(n,0,4),c.setHours(0,0,0,0);var d=o(c);return t.getTime()>=s.getTime()?n+1:t.getTime()>=d.getTime()?n:n-1}},function(e,t,n){var r=n(7);e.exports=function(e,t){return r(Date.now(),e,t)}},function(e,t,n){var r=n(18),o=n(22),a=n(4),s=n(0),c=n(25),d=n(3);var i={M:function(e){return e.getMonth()+1},MM:function(e){return l(e.getMonth()+1,2)},Q:function(e){return Math.ceil((e.getMonth()+1)/3)},D:function(e){return e.getDate()},DD:function(e){return l(e.getDate(),2)},DDD:function(e){return r(e)},DDDD:function(e){return l(r(e),3)},d:function(e){return e.getDay()},E:function(e){return e.getDay()||7},W:function(e){return o(e)},WW:function(e){return l(o(e),2)},YY:function(e){return l(e.getFullYear(),4).substr(2)},YYYY:function(e){return l(e.getFullYear(),4)},GG:function(e){return String(a(e)).substr(2)},GGGG:function(e){return a(e)},H:function(e){return e.getHours()},HH:function(e){return l(e.getHours(),2)},h:function(e){var t=e.getHours();return 0===t?12:t>12?t%12:t},hh:function(e){return l(i.h(e),2)},m:function(e){return e.getMinutes()},mm:function(e){return l(e.getMinutes(),2)},s:function(e){return e.getSeconds()},ss:function(e){return l(e.getSeconds(),2)},S:function(e){return Math.floor(e.getMilliseconds()/100)},SS:function(e){return l(Math.floor(e.getMilliseconds()/10),2)},SSS:function(e){return l(e.getMilliseconds(),3)},Z:function(e){return u(e.getTimezoneOffset(),":")},ZZ:function(e){return u(e.getTimezoneOffset())},X:function(e){return Math.floor(e.getTime()/1e3)},x:function(e){return e.getTime()}};function u(e,t){t=t||"";var n=e>0?"-":"+",r=Math.abs(e),o=r%60;return n+l(Math.floor(r/60),2)+t+l(o,2)}function l(e,t){for(var n=Math.abs(e).toString();n.length<t;)n="0"+n;return n}e.exports=function(e,t,n){var r=t?String(t):"YYYY-MM-DDTHH:mm:ss.SSSZ",o=(n||{}).locale,a=d.format.formatters,u=d.format.formattingTokensRegExp;o&&o.format&&o.format.formatters&&(a=o.format.formatters,o.format.formattingTokensRegExp&&(u=o.format.formattingTokensRegExp));var l=s(e);return c(l)?function(e,t,n){var r,o,a,s=e.match(n),c=s.length;for(r=0;r<c;r++)o=t[s[r]]||i[s[r]],s[r]=o||((a=s[r]).match(/\[[\s\S]/)?a.replace(/^\[|]$/g,""):a.replace(/\\/g,""));return function(e){for(var t="",n=0;n<c;n++)s[n]instanceof Function?t+=s[n](e,i):t+=s[n];return t}}(r,a,u)(l):"Invalid Date"}},function(e,t,n){var r=n(8),o=n(0),a=n(10),s=n(12),c=n(3),d=1440,i=2520,u=43200,l=86400;e.exports=function(e,t,n){var p=n||{},f=r(e,t),m=p.locale,h=c.distanceInWords.localize;m&&m.distanceInWords&&m.distanceInWords.localize&&(h=m.distanceInWords.localize);var g,v,y={addSuffix:Boolean(p.addSuffix),comparison:f};f>0?(g=o(e),v=o(t)):(g=o(t),v=o(e));var D,x=a(v,g),E=v.getTimezoneOffset()-g.getTimezoneOffset(),L=Math.round(x/60)-E;if(L<2)return p.includeSeconds?x<5?h("lessThanXSeconds",5,y):x<10?h("lessThanXSeconds",10,y):x<20?h("lessThanXSeconds",20,y):x<40?h("halfAMinute",null,y):h(x<60?"lessThanXMinutes":"xMinutes",1,y):0===L?h("lessThanXMinutes",1,y):h("xMinutes",L,y);if(L<45)return h("xMinutes",L,y);if(L<90)return h("aboutXHours",1,y);if(L<d)return h("aboutXHours",Math.round(L/60),y);if(L<i)return h("xDays",1,y);if(L<u)return h("xDays",Math.round(L/d),y);if(L<l)return h("aboutXMonths",D=Math.round(L/u),y);if((D=s(v,g))<12)return h("xMonths",Math.round(L/u),y);var C=D%12,S=Math.floor(D/12);return C<3?h("aboutXYears",S,y):C<9?h("overXYears",S,y):h("almostXYears",S+1,y)}},function(e,t,n){var r=n(0);e.exports=function(e,t){var n=r(e).getTime(),o=r(t).getTime();return n>o?-1:n<o?1:0}},function(e,t){e.exports=function(e){var t=new Date(e.getTime()),n=t.getTimezoneOffset();return t.setSeconds(0,0),6e4*n+t.getTime()%6e4}},function(e,t,n){var r=n(11);e.exports=function(e,t){var n=r(e,t)/1e3;return n>0?Math.floor(n):Math.ceil(n)}},function(e,t,n){var r=n(0);e.exports=function(e,t){var n=r(e),o=r(t);return n.getTime()-o.getTime()}},function(e,t,n){var r=n(0),o=n(13),a=n(14);e.exports=function(e,t){var n=r(e),s=r(t),c=a(n,s),d=Math.abs(o(n,s));return n.setMonth(n.getMonth()-c*d),c*(d-(a(n,s)===-c))}},function(e,t,n){var r=n(0);e.exports=function(e,t){var n=r(e),o=r(t);return 12*(n.getFullYear()-o.getFullYear())+(n.getMonth()-o.getMonth())}},function(e,t,n){var r=n(0);e.exports=function(e,t){var n=r(e).getTime(),o=r(t).getTime();return n<o?-1:n>o?1:0}},function(e,t){e.exports=function(){var e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};return{localize:function(t,n,r){var o;return r=r||{},o="string"==typeof e[t]?e[t]:1===n?e[t].one:e[t].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"in "+o:o+" ago":o}}}},function(e,t,n){var r=n(17);e.exports=function(){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Su","Mo","Tu","We","Th","Fr","Sa"],o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s=["AM","PM"],c=["am","pm"],d=["a.m.","p.m."],i={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return o[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?s[1]:s[0]},a:function(e){return e.getHours()/12>=1?c[1]:c[0]},aa:function(e){return e.getHours()/12>=1?d[1]:d[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){i[e+"o"]=function(t,n){return function(e){var t=e%100;if(t>20||t<10)switch(t%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"}(n[e](t))}}),{formatters:i,formattingTokensRegExp:r(i)}}},function(e,t){var n=["M","MM","Q","D","DD","DDD","DDDD","d","E","W","WW","YY","YYYY","GG","GGGG","H","HH","h","hh","m","mm","s","ss","S","SS","SSS","Z","ZZ","X","x"];e.exports=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);var o=n.concat(t).sort().reverse();return new RegExp("(\\[[^\\[]*\\])|(\\\\)?("+o.join("|")+"|.)","g")}},function(e,t,n){var r=n(0),o=n(19),a=n(20);e.exports=function(e){var t=r(e);return a(t,o(t))+1}},function(e,t,n){var r=n(0);e.exports=function(e){var t=r(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}},function(e,t,n){var r=n(21),o=6e4,a=864e5;e.exports=function(e,t){var n=r(e),s=r(t),c=n.getTime()-n.getTimezoneOffset()*o,d=s.getTime()-s.getTimezoneOffset()*o;return Math.round((c-d)/a)}},function(e,t,n){var r=n(0);e.exports=function(e){var t=r(e);return t.setHours(0,0,0,0),t}},function(e,t,n){var r=n(0),o=n(1),a=n(24),s=6048e5;e.exports=function(e){var t=r(e),n=o(t).getTime()-a(t).getTime();return Math.round(n/s)+1}},function(e,t,n){var r=n(0);e.exports=function(e,t){var n=t&&Number(t.weekStartsOn)||0,o=r(e),a=o.getDay(),s=(a<n?7:0)+a-n;return o.setDate(o.getDate()-s),o.setHours(0,0,0,0),o}},function(e,t,n){var r=n(4),o=n(1);e.exports=function(e){var t=r(e),n=new Date(0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),o(n)}},function(e,t,n){var r=n(2);e.exports=function(e){if(r(e))return!isNaN(e);throw new TypeError(toString.call(e)+" is not an instance of Date")}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);const r={};function o(e,t){r[e]?r[e].push(t):r[e]=[t]}function a(e,...t){r[e]&&r[e].forEach(e=>{e(...t)})}var s=e=>{return{name:e,todos:[]}};var c=(e,t,n,r,o)=>({title:e,description:t,dueDate:n,priority:r,isDone:o});const d="projects",i=[{name:"Default project",todos:[{title:"todo",description:"todo  description",dueDate:new Date(Date.now()+864e6),isDone:"",priority:""},{title:"important todo",description:"",dueDate:new Date(Date.now()+2592e5),isDone:"",priority:"urgent"},{title:"another todo",description:"",dueDate:"",isDone:!0,priority:"normal"}]}];function u(e){localStorage.setItem(d,JSON.stringify(e))}function l(){return JSON.parse(localStorage.getItem(d))}o("init",function(){l()||u(i)});const p=e=>{if(e.target.classList.contains("project-main")){const t=e.target.parentNode.dataset.pid;a("setActiveProject",Number(t))}else if(e.target.classList.contains("delete-project")){const t=e.target.parentNode.parentNode.dataset.pid;a("deleteProject",Number(t))}else if(e.target.classList.contains("edit-project")){const t=e.target.parentNode.parentNode;f(t)}},f=e=>{e.querySelector(".edit-form").classList.toggle("hide"),e.querySelector(".edit-form")[0].focus(),e.querySelector(".project-main").classList.toggle("hide")},m=()=>{document.querySelector(".new-project-form").classList.toggle("hide"),document.querySelector(".new-project-form")[0].focus(),document.querySelector(".new-project-button").classList.toggle("hide")};o("renderProjects",(e,t)=>{const n=document.querySelector(".projects"),r=document.querySelector(".projects > .new-project");[...n.children].forEach(e=>{e.classList.contains("project")&&e.remove()}),e.forEach((e,o)=>{const a=((e,t)=>{const n=document.createElement("div");n.dataset.pid=t,n.classList.add("project");const r=document.createElement("div");r.classList.add("project-main"),r.addEventListener("click",p),r.textContent=e.name;const o=document.createElement("i");o.classList.add("edit-project","far","fa-edit"),r.appendChild(o);const a=document.createElement("i");a.classList.add("delete-project","fas","fa-trash-alt"),r.appendChild(a),n.appendChild(r);const s=h(!0);return s.classList.add("edit-form","hide"),n.appendChild(s),n})(e,o);o===t&&a.classList.add("active"),n.insertBefore(a,r)}),e.length?document.querySelector(".new-todo").classList.remove("hide"):document.querySelector(".new-todo").classList.add("hide")});const h=(e=!1)=>{const t=document.createElement("form"),n=document.createElement("input");n.type="text",n.required=!0,n.classList.add("project-input"),n.placeholder=e?"Project name":"Add a project";const r=document.createElement("button");r.type="submit";const o=document.createElement("i");o.classList.add("submit-button","fas","fa-check"),r.appendChild(o);const a=document.createElement("i");return a.classList.add("cancel","fas","fa-times"),a.addEventListener("click",g),t.appendChild(n),t.appendChild(r),t.appendChild(a),t.addEventListener("submit",t=>v(t,e)),t},g=e=>{const t=e.target.parentNode.parentNode;t.classList.contains("new-project")&&m(),t.classList.contains("project")&&f(e.target.parentNode.parentNode)},v=(e,t=!1)=>{e.preventDefault();const n=e.target[0].value;if(t){a("editProject",n,e.target.parentNode.dataset.pid)}else a("addNewProject",n),m();e.target.reset()};o("setActiveProject",e=>{[...document.querySelectorAll(".project")].forEach(e=>e.classList.remove("active")),document.querySelector(`[data-pid='${e}']`).classList.add("active")});var y=n(5),D=n.n(y),x=n(6),E=n.n(x);const L=e=>{if(e.target.classList.contains("short")){a("showMore",e.target.parentNode)}else if(e.target.classList.contains("title")){a("showMore",e.target.parentNode.parentNode)}else if(e.target.classList.contains("delete-todo")){a("deleteTodo",e.target.parentNode.dataset.tid)}else if(e.target.classList.contains("edit-todo")){a("showEditTodo",e.target.parentNode.parentNode)}else if(e.target.type="checkbox"){const t=e.target.id.split("-")[1],n={isDone:e.target.checked};t&&a("editTodo",t,n)}};o("renderTodos",e=>{const t=document.querySelector(".todos"),n=document.querySelector(".todos > .new-todo");[...t.children].forEach(e=>{e.classList.contains("todo")&&e.remove()}),e.forEach((e,r)=>{const o=((e,t)=>{const n=document.createElement("div");n.dataset.tid=t,n.classList.add("todo"),"urgent"===e.priority&&n.classList.add("urgent");const r=document.createElement("div");r.classList.add("short");const o=document.createElement("input");o.type="checkbox",o.id="chbox-"+t,o.checked=e.isDone;const a=document.createElement("label");a.htmlFor="chbox-"+t;const s=document.createElement("div");s.classList.add("title"),s.textContent=e.title,r.appendChild(o),r.appendChild(a),r.appendChild(s);const c=document.createElement("i");c.classList.add("edit-todo","far","fa-edit"),r.appendChild(c);const d=document.createElement("i");d.classList.add("delete-todo","fas","fa-trash-alt"),r.appendChild(d),r.addEventListener("click",L),n.appendChild(r);const i=S(e);i.classList.add("more","hide"),n.appendChild(i);const u=T(e,t);return u.classList.add("edit","hide"),n.appendChild(u),n})(e,r);t.insertBefore(o,n)})});const C=e=>{e.preventDefault(),a("addNewTodo",e.target[0].value),e.target.reset()},S=e=>{const t=document.createElement("div"),n=document.createElement("div"),r=document.createElement("i");r.classList.add("far","fa-comment-alt"),n.appendChild(r);const o=document.createElement("div");o.classList.add("desc"),o.textContent=e.description||"no description set",n.appendChild(o);const a=document.createElement("div"),s=document.createElement("i");s.classList.add("far","fa-calendar-alt"),a.appendChild(s);const c=document.createElement("div");c.classList.add("due-date"),c.textContent=e.dueDate?D()(e.dueDate,{addSuffix:!0}):"no due date set",a.appendChild(c);const d=document.createElement("div"),i=document.createElement("i");i.classList.add("fas","fa-exclamation-triangle"),d.appendChild(i);const u=document.createElement("div");return u.classList.add("priority"),u.textContent=e.priority||"no priority set",d.appendChild(u),t.appendChild(n),t.appendChild(a),t.appendChild(d),t},M=e=>{const t=e.querySelector(".more"),n=e.querySelector(".edit");t.classList.toggle("hide"),n.classList.add("hide")};o("showMore",M);const T=(e,t)=>{const n=document.createElement("form"),r=document.createElement("div"),o=document.createElement("input");o.type="text",o.defaultValue=e.title||"";const a=document.createElement("input");a.type="checkbox",a.id="checkbox-"+t,a.checked=e.isDone;const s=document.createElement("label");s.htmlFor="checkbox-"+t,r.appendChild(a),r.appendChild(s),r.appendChild(o);const c=document.createElement("div"),d=document.createElement("i");d.classList.add("far","fa-comment-alt");const i=document.createElement("textarea");i.defaultValue=e.description||"",i.placeholder="Add descripition",c.appendChild(d),c.appendChild(i);const u=document.createElement("div"),l=document.createElement("i");l.classList.add("far","fa-calendar-alt");const p=document.createElement("input");p.type="date",p.defaultValue=E()(e.dueDate,"YYYY-MM-DD")||"",u.appendChild(l),u.appendChild(p);const f=document.createElement("div"),m=document.createElement("i");m.classList.add("fas","fa-exclamation-triangle");const h=document.createElement("select"),g=document.createElement("option");g.textContent="normal",g.selected=e.priority===g.text;const v=document.createElement("option");v.textContent="urgent",v.selected=e.priority===v.text,h.appendChild(g),h.appendChild(v),f.appendChild(m),f.appendChild(h);const y=document.createElement("button");y.type="submit";const D=document.createElement("i");D.classList.add("submit-button","fas","fa-check"),y.appendChild(D);const x=document.createElement("i");x.classList.add("cancel","fas","fa-times"),x.addEventListener("click",()=>b(n));const L=document.createElement("div");return L.appendChild(r),L.appendChild(c),L.appendChild(u),L.appendChild(f),n.appendChild(L),n.appendChild(y),n.appendChild(x),n.addEventListener("submit",w),n},b=e=>{e.reset();const t=e.parentNode;t.querySelector(".edit").classList.add("hide"),t.querySelector(".short").classList.remove("hide"),t.querySelector(".more").classList.remove("hide")},w=e=>{e.preventDefault();const t=e.target.parentNode.dataset.tid;a("editTodo",t,{title:e.target[1].value,description:e.target[2].value,dueDate:e.target[3].value?new Date(e.target[3].value):"",priority:e.target[4].value,isDone:e.target[0].checked}),M(document.querySelector(`[data-tid='${t}']`))};o("showEditTodo",e=>{e.querySelector(".edit").classList.toggle("hide"),e.querySelector(".short").classList.toggle("hide"),e.querySelector(".more").classList.add("hide")});const j=()=>{document.querySelector(".new-todo-button").classList.toggle("hide"),document.querySelector(".new-todo-form").classList.toggle("hide")},Y=()=>{const e=document.createElement("h1");e.classList.add("title"),e.textContent="Todo App";const t=document.createElement("div");t.classList.add("main");const n=document.createElement("div");n.classList.add("projects");const r=document.createElement("h3");r.classList.add("projects-title"),r.textContent="Projects";const o=document.createElement("div");o.classList.add("new-project-button"),o.textContent="+ new project",o.addEventListener("click",m);const a=h();a.classList.add("new-project-form","hide");const s=document.createElement("div");s.classList.add("new-project"),s.appendChild(o),s.appendChild(a),n.appendChild(r),n.appendChild(s);const c=document.createElement("div");c.classList.add("todos");const d=document.createElement("h3");d.classList.add("todos-title"),d.textContent="Todos";const i=document.createElement("div");i.classList.add("new-todo-button"),i.textContent="+ add todo",i.addEventListener("click",j);const u=(()=>{const e=document.createElement("form"),t=document.createElement("input");t.classList.add("todo-title-input"),t.required=!0,t.placeholder="Enter todo title";const n=document.createElement("button");n.type="submit";const r=document.createElement("i");r.classList.add("submit-button","fas","fa-check"),n.appendChild(r);const o=document.createElement("i");return o.classList.add("cancel","fas","fa-times"),o.addEventListener("click",j),e.appendChild(t),e.appendChild(n),e.appendChild(o),e.addEventListener("submit",C),e})();u.classList.add("new-todo-form","hide");const l=document.createElement("div");l.classList.add("new-todo"),l.appendChild(i),l.appendChild(u),c.appendChild(d),c.appendChild(l),t.appendChild(n),t.appendChild(c);const p=document.createDocumentFragment();return p.appendChild(e),p.appendChild(t),p};o("init",()=>{const e=document.querySelector("#root"),t=Y();e.appendChild(t)});n(26);o("addNewProject",e=>{const t=s(e);q.push(t),u(q),N=q.length-1,a("renderProjects",q,N),a("renderTodos",[])});o("editProject",(e,t)=>{q[t].name=e,u(q),a("renderProjects",q,N)});o("deleteProject",e=>{let t;q.splice(e,1),e<=N&&N--,t=q[N]?q[N].todos:[],u(q),a("renderProjects",q,N),a("renderTodos",t)});o("addNewTodo",e=>{const t=c(e);q[N].todos.push(t),u(q),a("renderTodos",q[N].todos)});o("editTodo",(e,t)=>{const n=q[N].todos[e];q[N].todos[e]={...n,...t},u(q),a("renderTodos",q[N].todos)});o("deleteTodo",e=>{q[N].todos.splice(e,1),u(q),a("renderTodos",q[N].todos)});o("setActiveProject",e=>{a("renderProjects",q,N=e),a("renderTodos",q[N].todos)});let N=0;a("init");const q=l();a("renderProjects",q,N),a("renderTodos",q[N].todos)}]);